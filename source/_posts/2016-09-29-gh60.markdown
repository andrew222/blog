---
layout: post
title: "GH60相关"
date: 2016-09-29 16:53:48 +0800
comments: true
categories: "Tool"
---
##组装

''焊接时应该遵循先低后高原则''

 1. 焊接芯片，将芯片圆圈口对着线路板上的圆圈标志，焊接。
 2. 焊接USB接口，先焊接周围的固定焊盘，再焊接引脚
 3. 焊接晶振（仅限B版，L版应该先做第4步）
 4. 焊接周围器件 C1-C8、R1-R3、R5、K1
 5. 焊接晶振（仅限L版，L版应该先做第3步）

然后插上电脑进行测试。
如果能够成功识别到键盘，接下来是刷固件，参见[[GH60相关#刷固件]]。
如果无法成功识别到键盘，参见[[GH60相关#常见问题]]。

固件刷完后，焊接所有的二极管，注意方向。二极管箭头应该和线路板上的标志一致。

插上电脑进行测试，使用[[https://www.baidu.com/s?wd=keyboardtestutility&ie=UTF-8|keyboardtestutility]]进行测试。用镊子短路两个轴之间的点，观察是否所有按键都有反应。
如果全部正常，进行下一步
如果不正常，参见[[GH60相关#常见问题]]。

''L版如果要使用内置灯控务必先短路正面的J2-J4！''

接下来是装轴，注意要先装定位板再装轴。

装好轴之后测试，全部正常就可以加灯了。

L版焊接上剩下的电阻，短路J1和J6，焊接上Q1和R65；
B版焊接上灯阻；
插上电脑，按Fn+V打开灯；
将发光二极管装上，观察是否能亮；
如果可以就可以焊接了。

## 刷固件
首先下载[[https://github.com/kairyu/tkg-toolkit/archive/master.zip|tkg-toolkit]]解压到你喜欢的地方。
插上键盘，打开`tkg-toolkit\windows\setup.bat`,依次选择`1(GH60 RevA/B/C) 然后回车`/`n 然后回车`/`1 回车`/`1 回车`,按任意键保存退出。
接着打开`tkg-toolkit\windows\reflash.bat`，输入`y`后，按下键盘背面的RESET键。这时候就开始刷新固件了。
如果固件刷新不成功，参见[[GH60相关#常见问题]]。

## 常见问题

请跟随下列指示进行选择。

 1. 键盘插到电脑上是否正常识别？ 是->2/否->3
 2. 是否已经刷好固件？ 是->4/否->5
 3. 电脑有什么提示？ 无法识别的USB设备->6 一个USB设备超过其集线器端口的电源限制->7 什么反应都没有->8
 4. 键盘哪里有问题？ 按键->9 灯光->10
 5. 固件刷新中遇到问题了吗？ 按下RESET后没有反应->13 我还没刷固件->14
 6. 检查USB口是否焊接到位；检查主控周围原件是否焊接错误；换个USB口或数据线试试。
 7. 检查USB口是否引脚粘连；检查主控是否引脚粘连；检查原件是否引脚粘连。
 8. 检查USB口和原件是否焊接到位；检查晶振是否被焊坏了；检查芯片是否焊接方向错误。
 9. 键盘的问题是： 一个或多个按键无法识别->11 两个或多个按键同时按下->12
 10. 灯光的问题是： 全部灯不亮->15 某个灯不亮->16 开启灯光键盘就不工作->17
 11. 按键： 单个无法识别->18 一排无法识别->19
 12. 按键： 单两个同时按下->18 两排中的某两个键都同时按下->19
 13. 打开`tkg-toolkit\windows\tool\zadig-2.1.2.exe`,选上`Options-List All Device`，按下RESET键后，将Atm32U4DFU的驱动更换为libusbk或者其他的驱动，然后再次尝试刷新；或者换一台电脑试试。
 14. 快去刷固件
 15. 检查灯阻是否安装到位；是否按Fn+V打开了灯光；L版是否短路了J1-J4和J6，是否安装了R65和Q1。建议可以先装CapsLock灯测试，默认设置下，Fn+V打开灯光的同时也会打开这个灯。
 16. 检查灯阻是否安装到位；二极管是否装反；二极管是否烧坏。
 17. 检查二极管是否短路。
 18. 这不科学！不可能！你一定是搞错了！
 19. 检查主控引脚是否粘连
